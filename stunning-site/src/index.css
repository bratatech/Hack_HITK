/* src/index.css */
@import "tailwindcss";

/* -------------------------------------
   Tailwind v4 theme tokens (your palette)
   After this, classes like bg-navy, text-ivory,
   bg-primary, bg-secondary, etc. will work.
-------------------------------------- */
@theme {
  --color-primary:   #9FF5DE; /* mint */
  --color-secondary: #CAEBFF; /* sky */
  --color-accent:    #FFE7E7; /* blush */
  --color-navy:      #0E4981; /* deep blue */
  --color-ivory:     #FDFAEC; /* paper */
}

/* Tiny dotted texture — we’ll apply it only on the hero via .noise-bg */
:root {
  --noise: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.08) 1px, transparent 1px);
}

/* ---------- Base ---------- */
body {
  /* brand defaults */
  @apply bg-navy text-ivory antialiased;

  /* Turn OFF dotted/noise globally (we'll opt-in per-section) */
  background-image: none !important;
}

/* Apply the dotted pattern ONLY where you add this class */
.noise-bg {
  background-image: var(--noise);
  background-size: 6px 6px;
  background-position: 0 0;
}

/* Soft, cool, pleasing background for content sections (sky → mint → ivory) */
.bg-sea-veil {
  background:
    radial-gradient(1000px 320px at 50% 0%, rgba(255,255,255,0.55), rgba(255,255,255,0) 70%),
    linear-gradient(180deg, #CAEBFF 0%, #9FF5DE 46%, #FDFAEC 100%);
}

/* ---------- Extras used around the app ---------- */
.text-glow {
  text-shadow: 0 1px 1px rgba(0,0,0,0.45), 0 -1px 1px rgba(0,0,0,0.25);
}

.glass {
  @apply bg-white/10 backdrop-blur-md border border-white/15;
}

.gradient-mint-sky {
  background: linear-gradient(135deg, #9FF5DE 0%, #CAEBFF 48%, #FDFAEC 100%);
}
/* === Animated, time-of-day gradients === */
.bg-morning { background: linear-gradient(135deg, #E3F2FD, #FFFFFF); background-size: 200% 200%; animation: bg-pan 20s ease-in-out infinite alternate; }
.bg-afternoon { background: linear-gradient(135deg, #E8F5E8, #B3E5FC); background-size: 200% 200%; animation: bg-pan 24s ease-in-out infinite alternate; }
.bg-evening { background: linear-gradient(135deg, #FFE0B2, #1565C0); background-size: 200% 200%; animation: bg-pan 28s ease-in-out infinite alternate; }
@keyframes bg-pan { from { background-position: 0% 0%; } to { background-position: 100% 100%; } }

/* Page overlay: soft highlights + faint lines (watermark feel) */
.page-bg { position: relative; }
.page-bg::after {
  content: "";
  position: absolute; inset: 0; pointer-events: none; opacity: .28;
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(255,255,255,.4), rgba(255,255,255,0) 60%),
    radial-gradient(800px 400px at 90% 110%, rgba(255,255,255,.28), rgba(255,255,255,0) 60%),
    repeating-linear-gradient(0deg, rgba(255,255,255,.08), rgba(255,255,255,.08) 2px, transparent 2px, transparent 12px);
}

/* Map card: dark navy “sky” with star/constellation vibe */
.map-sky { position: relative; background: #0D1421; border-radius: 1rem; overflow: hidden; }
.map-sky::before {
  content: ""; position: absolute; inset: 0; pointer-events: none;
  background:
    radial-gradient(1px 1px at 20px 20px, rgba(255,255,255,.08) 1px, transparent 1px),
    linear-gradient(120deg, rgba(255,255,255,.04), transparent 40%),
    linear-gradient(300deg, rgba(255,255,255,.04), transparent 40%);
  background-size: 24px 24px, auto, auto;
}

/* Particles (bubbles/leaves/stars) */
.particles { position: absolute; inset: 0; pointer-events: none; overflow: hidden; }
.particle { position: absolute; bottom: -24px; width: 12px; height: 12px; border-radius: 9999px; opacity: .5;
  animation: float-up var(--d, 12s) linear infinite;
  left: var(--x, 50%); transform: translateX(0); filter: blur(.4px);
}
@keyframes float-up {
  from { transform: translateY(0) translateX(0); opacity: .45; }
  to   { transform: translateY(-115vh) translateX(var(--tx, 0px)); opacity: 0; }
}
/* Variant tints */
.p-bubble { background: radial-gradient(circle, rgba(255,255,255,.9), rgba(255,255,255,.25)); box-shadow: 0 0 10px rgba(255,255,255,.35); }
.p-leaf   { width: 14px; height: 10px; border-radius: 10px 10px 2px 10px; background: linear-gradient(135deg, #7FC38A, #4CAF50); transform-origin: 50% 80%;
  animation: float-up var(--d, 14s) linear infinite, leaf-wob 3.4s ease-in-out infinite;
}
@keyframes leaf-wob { 0%,100% { rotate: -6deg } 50% { rotate: 6deg } }
.p-star   { width: 8px; height: 8px; background: radial-gradient(circle, #fff, rgba(255,255,255,.2));
  box-shadow: 0 0 12px rgba(255,255,255,.6); filter: none;
}

/* Hover/press delight */
.hover-raise { transition: transform .25s ease, box-shadow .25s ease; }
.hover-raise:hover { transform: translateY(-4px); box-shadow: 0 16px 30px rgba(0,0,0,.12); }

/* FAB ripple (no extra JS) */
.btn-fab { position: relative; overflow: hidden; }
.btn-fab::after {
  content: ""; position: absolute; left: 50%; top: 50%; width: 0; height: 0; border-radius: 9999px;
  background: rgba(16,185,129,.28); transform: translate(-50%, -50%);
  transition: width .45s ease, height .45s ease, opacity .6s ease; opacity: 0;
}
.btn-fab:active::after { width: 240px; height: 240px; opacity: 1; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .bg-morning, .bg-afternoon, .bg-evening, .particle { animation: none !important; }
  .hover-raise, .btn-fab { transition: none !important; }
}
/* --- Map FAB visibility fixes --- */
.map-sky { overflow: visible; } /* was hidden earlier; let the FAB breathe */


/* Optional: give Leaflet controls some space below the FAB */
.leaflet-control-container .leaflet-bottom.leaflet-right {
  margin-bottom: 64px;
  margin-right: 10px;
}

/* ===== Pastel ombré panels ===== */
.pastel-mint {
  background: linear-gradient(180deg, #effff9 0%, #dffaf2 100%);
}
.pastel-lav {
  background: linear-gradient(180deg, #f3e8ff 0%, #efe7ff 100%);
}
.pastel-blush {
  background: linear-gradient(180deg, #ffe9f2 0%, #ffeff6 100%);
}
/* soft highlight + subtle depth */
.panel-shadow {
  box-shadow:
    0 18px 38px rgba(14, 73, 129, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}
/* ——— extra pastel gradient panels ——— */
.pastel-lav-2   { background: linear-gradient(180deg, #F2EAFF 0%, #E6D8FF 100%); } /* softer lavender */
.pastel-peri    { background: linear-gradient(180deg, #EAEFFF 0%, #D9E3FF 100%); } /* periwinkle */
.pastel-lilac   { background: linear-gradient(180deg, #F5EDFF 0%, #EBDDFF 100%); } /* lilac */
.pastel-sky     { background: linear-gradient(180deg, #EAF6FF 0%, #DFF0FF 100%); } /* baby blue */
.pastel-mint-2  { background: linear-gradient(180deg, #ECFFF7 0%, #DDF8EF 100%); } /* cool mint */
.pastel-seafoam { background: linear-gradient(180deg, #E8FFF7 0%, #D7F7EE 100%); } /* seafoam green */
.pastel-sage    { background: linear-gradient(180deg, #EDF8F2 0%, #DCEFE6 100%); } /* soft sage */
.pastel-peach   { background: linear-gradient(180deg, #FFEBDD 0%, #FFD9C4 100%); } /* peach */
.pastel-blush-2 { background: linear-gradient(180deg, #FFEFF6 0%, #FFD9E8 100%); } /* rosy pink */
.pastel-coral   { background: linear-gradient(180deg, #FFE8EC 0%, #FFD6DE 100%); } /* coral tint */
.pastel-butter  { background: linear-gradient(180deg, #FFF8DA 0%, #FFF1B8 100%); } /* butter yellow */
.pastel-sand    { background: linear-gradient(180deg, #FFF6E5 0%, #F8EBD2 100%); } /* warm sand */
.pastel-haze    { background: linear-gradient(180deg, #F6F8FB 0%, #EEF3F8 100%); } /* neutral gray-blue */

/* ===== Phase 1: Visual upgrade helpers ===== */

/* Depth & hover shadows */
.shadow-card { box-shadow: 0 8px 32px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08); }
.shadow-card-hov { box-shadow: 0 16px 48px rgba(0,0,0,0.15), 0 4px 12px rgba(0,0,0,0.10); }

/* Section gradients (Badges / Leaderboard / Certificate) */
.bg-badges { background-image: linear-gradient(135deg, #E1BEE7 0%, #F3E5F5 100%); }
.bg-leader { background-image: linear-gradient(135deg, #FFCDD2 0%, #FCE4EC 100%); }
.bg-cert   { background-image: linear-gradient(135deg, #B3E5FC 0%, #E0F2F1 100%); }

/* Super-subtle topographic pattern (use sparingly) */
.bg-topo {
  background-image: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'>\
    <g opacity='0.05' stroke='%230E4981' stroke-width='0.6' fill='none'>\
      <path d='M0,120 C40,135 80,90 120,110 S160,120 160,120'/>\
      <path d='M0,80 C40,95 80,50 120,70 S160,80 160,80'/>\
    </g></svg>");
}

/* === Badge System: metallic “medal” fills + inner highlights === */
.metal-gold {
  background-image: conic-gradient(from 180deg at 50% 50%,
    #D1B464, #FFF2C3 20%, #B68E2C 40%, #FFE7A3 60%, #A67C00 80%, #D1B464 100%);
}
.metal-silver {
  background-image: conic-gradient(from 180deg at 50% 50%,
    #C9D6E3, #F8FBFF 20%, #A9B6C4 40%, #E8EEF5 60%, #8EA0B0 80%, #C9D6E3 100%);
}
.metal-bronze {
  background-image: conic-gradient(from 180deg at 50% 50%,
    #D9A27E, #F7E0D0 20%, #B77B56 40%, #EBC7B1 60%, #9F6A4B 80%, #D9A27E 100%);
}
.inner-soft {
  box-shadow:
    inset 0 3px 10px rgba(0,0,0,0.18),
    inset 0 -3px 8px rgba(255,255,255,0.55);
}
.badge-highlight {
  position: absolute; inset: 0; pointer-events: none;
  background: radial-gradient(120% 60% at 50% -20%, rgba(255,255,255,0.65), transparent 55%);
  mix-blend-mode: screen;
}

/* Unlocked glow / Locked pulse */
.badge-glow { box-shadow: 0 0 24px rgba(159,245,222,0.55); }
.lock-pulse { animation: pulse-locked 2.2s ease-in-out infinite; }
@keyframes pulse-locked {
  0%,100% { transform: scale(1) }
  50%     { transform: scale(1.03) }
}

/* Optional “shine” shimmer (use on loaders/skeletons) */
.animate-shine {
  background-image: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
  background-size: 200% 100%; animation: shine 2s linear infinite;
}
@keyframes shine { 0% {background-position:-200% 0} 100% {background-position:200% 0} }

/* Certificate: ornate frame + watermark feel */
.certificate-frame {
  position: relative; border-radius: 1.25rem;
  background: linear-gradient(135deg,#B3E5FC 0%,#E0F2F1 100%);
  box-shadow: 0 8px 32px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08);
}
.certificate-frame::before {
  content:""; position:absolute; inset:10px; border-radius:.9rem; padding:12px;
  background: repeating-linear-gradient(45deg, rgba(14,73,129,0.08) 0 8px, rgba(255,255,255,0.10) 8px 16px);
  border: 1px solid rgba(255,255,255,0.4);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
}

/* Stronger hover lift (keep your original if you prefer it) */
.hover-raise-2 { transition: transform .25s, box-shadow .25s; }
.hover-raise-2:hover { transform: translateY(-2px); box-shadow: 0 16px 48px rgba(0,0,0,.15), 0 4px 12px rgba(0,0,0,.10); }
